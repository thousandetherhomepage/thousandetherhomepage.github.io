(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{335:function(t,e,r){var content=r(347);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("c3558796",content,!0,{sourceMap:!1})},344:function(t,e,r){"use strict";r.r(e);r(45),r(63),r(64),r(65),r(61),r(41),r(36),r(46),r(47);var n=r(9),o=(r(24),r(51),r(62),r(34));function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,a){if(t){if("string"==typeof t)return l(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw c}}}}function l(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=Array(a);e<a;e++)r[e]=t[e];return r}var h={props:["provider","contract","isReadOnly"],data:function(){return{error:null,success:null,available:!1}},computed:{isAvailable:function(){return this.checkAvailable(this.$parent.left,this.$parent.top,this.$parent.width,this.$parent.height,this.$store.state.ads)}},methods:{price:function(t,e){return Math.ceil(t*e*.001*100)/100},checkAccounts:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==window.ethereum){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.ethereum.enable();case 4:r=e.sent,n=c(r);try{for(n.s();!(o=n.n()).done;)l=o.value,t.$store.commit("addAccount",l)}catch(t){n.e(t)}finally{n.f()}case 7:case"end":return e.stop()}}),e)})))()},checkAvailable:function(t,e,r,n){var o=Math.floor(t/10),c=Math.floor(e/10),l=o+Math.floor(r/10)-1,h=c+Math.floor(n/10)-1;return!this.$store.getters.isColliding(o,c,l,h)},buy:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,h,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={x:t.$parent.left,y:t.$parent.top,width:t.$parent.width,height:t.$parent.height},t.checkAvailable(r.x,r.y,r.width,r.height)){e.next=4;break}return t.error="Slot is not available: ".concat(r),e.abrupt("return");case 4:return n=o.a.utils.parseUnits(t.price(r.width,r.height).toString(),"ether"),c=Math.floor(r.x/10),l=Math.floor(r.y/10),h=Math.floor(r.width/10),f=Math.floor(r.height/10),e.next=8,t.provider.getSigner();case 8:return d=e.sent,e.prev=9,e.next=12,t.contract.connect(d).buy(c,l,h,f,{value:n});case 12:e.sent,e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(9),-1===(e.t0.stack||e.t0.message||"").indexOf("User denied transaction signature.")){e.next=19;break}return e.abrupt("return");case 19:return t.error=e.t0.toString(),e.abrupt("return");case 21:t.success="Transaction sent successfully.",t.$emit("buy",{x:c,y:l,width:h,height:f});case 23:case"end":return e.stop()}}),e,null,[[9,15]])})))()}}},f=(r(346),r(60)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.enabled,expression:"$parent.enabled"}],class:{available:t.isAvailable},attrs:{id:"adBuy"}},[e("div",[t._v("\n    "+t._s(t.$parent.width)+"x"+t._s(t.$parent.height)+" = "+t._s(t.$parent.width*t.$parent.height)+" pixels at position ("+t._s(t.$parent.left)+", "+t._s(t.$parent.top)+").\n  ")]),t._v(" "),e("div",[t._v("\n    Price: "+t._s(t.price(t.$parent.width,t.$parent.height))+" ETH + gas fees.\n  ")]),t._v(" "),t.error?e("p",{staticClass:"error"},[t._v(t._s(t.error))]):t.success?e("p",{staticClass:"success"},[t._v(t._s(t.success))]):t.isAvailable?e("p",[e("strong",[t._v("Slot is available.")]),t._v(" "),this.$store.state.activeAccount?e("button",{attrs:{type:"button",disabled:t.isReadOnly},on:{click:t.buy}},[t._v("Buy Pixels")]):e("strong",[t._v('Click "Connect Wallet" at the bottom')])]):e("p",[t._v("\n    Slot is not available.\n  ")])])}),[],!1,null,null,null);e.default=component.exports},346:function(t,e,r){"use strict";r(335)},347:function(t,e,r){var n=r(125)((function(i){return i[1]}));n.push([t.i,"#adBuy{background:#fff;border:2px solid #d90006;display:block;height:80px;margin-top:-110px;padding:5px;position:absolute;text-align:center;width:400px}#adBuy.available{border-color:#97d900}.error{color:red}",""]),n.locals={},t.exports=n}}]);